require(["jquery","splunkjs/mvc","splunkjs/mvc/searchmanager","splunkjs/mvc/savedsearchmanager","splunkjs/mvc/postprocessmanager","splunkjs/mvc/simpleform/input/text","splunkjs/mvc/simpleform/input/multiselect","splunkjs/mvc/dropdownview","/static/app/searchplus/js/sp_change_view.min.js","/static/app/searchplus/js/sp_change_details_view.min.js","/static/app/searchplus/js/format.min.js","/static/app/searchplus/js/simplebar.min.js"],(function(t,e,s,a,n,i,l,d,c,r,o,u){let p=t(".dashboard-body").html('\n        <div class="view-container">\n            <section aria-label="Search Filters" class="sidebar">\n                <header class="sidebar-header">\n                    <i class="icon icon-filter"></i><span class="result-count">0</span><span> Matched Changes</span>\n                </header>\n\t\t\t\t<div class="sidebar-filters">\n\t\t\t\t\t<div class="input-container">\n\t\t\t\t\t\t<label><i class="icon icon-clock"></i>Last Updated</label>\n\t\t\t\t\t\t<div class="splunk-input-container input-updated"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="input-container">\n\t\t\t\t\t\t<label><i class="icon icon-search"></i>Title</label>\n\t\t\t\t\t\t<div class="splunk-input-container input-keyword"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="sidebar-change-content" data-simplebar>\n\t\t\t\t\t<ul class="sidebar-list">\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n            </section>\n            <section class="content change-details-content">\n\t\t\t\t<div class="change-content-title">\n\t\t\t\t\t<div class="search-name">...</div>\n\t\t\t\t\t<div class="diff-toggle">\n\t\t\t\t\t\t<span>Diff Highlighting</span>\n\t\t\t\t\t\t<input class="tgl tgl-flat" id="toggle-input" type="checkbox" checked/>\n\t\t\t\t\t\t<label class="tgl-btn" for="toggle-input"></label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<header class="change-content-header">\n\t\t\t\t\t<div>Field</div>\n\t\t\t\t\t<div>Current Value</div>\n\t\t\t\t\t<div>Previous Value</div>\n\t\t\t\t</header>\n\t\t\t\t<div class="scroll-container" data-simplebar>\n\t\t\t\t\t<ol class="search-results">\n\t\t\t\t\t</ol>\n\t\t\t\t</div>\n            </section>\n        </div>\n    '),h=new s({id:"sm_change",data:"results",preview:!0,cache:!0,search:'`sp_history_index` source=sp_change_history earliest="$updated$" latest="now" title="*$keyword$*" | table title _time | sort -_time | eval earliest=_time-1, latest=_time+1, _time=strftime(_time, "%a %b %d, %Y %I:%M %p")'},{tokens:!0}),v=(new s({id:"sm_change_details",data:"results",preview:!0,cache:!0,search:'`sp_history_index` source=sp_change_history earliest=$earliest$ latest=$latest$ title="$title$" | head 1 | fields *'},{tokens:!0}),new c({id:"view_searchpluschange",managerid:"sm_change",el:t(".dashboard-body .sidebar-list")}).render(),new r({id:"view_searchpluschangedetails",managerid:"sm_change_details",el:t(".dashboard-body .search-results")}).render(),new d({id:"input_updated",choices:[{label:"All Time",value:"-50y"},{label:"Last 1 Hour",value:"-1h"},{label:"Last 12 Hours",value:"-12h"},{label:"Last 1 Day",value:"-1d"},{label:"Last 7 Days",value:"-7d"},{label:"Last 1 Month",value:"-1mon"},{label:"Last 6 Months",value:"-6mon"},{label:"Last 1 Year",value:"-1y"}],default:"-7d",value:"$updated$",el:t(".input-updated")},{tokens:!0}).render(),new i({id:"input_keyword",default:"",value:"$keyword$",el:t(".input-keyword")},{tokens:!0}).render(),e.Components.get("default"));h.on("search:done",(function(e){let s=this.data("results"),a=s.attributes.manager.attributes.data.resultCount;t(".result-count",p).html(a.toLocaleString()),s.on("data",(function(){let e=s.data().rows;e.length>0&&(v.set("title",e[0][0]),v.set("earliest",e[0][2]),v.set("latest",e[0][3]),t(".search-name",p).text(e[0][0]))}))})),v.on("change:title",(function(e,s){t(".search-name",p).text(s)})),t("#toggle-input",p).change((function(){this.checked?t(".search-results",p).removeClass("diff-disabled"):t(".search-results",p).addClass("diff-disabled")}))}));